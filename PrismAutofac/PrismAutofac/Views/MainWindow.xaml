<Window x:Class="PrismAutofac.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:behav="clr-namespace:Behavior"
        prism:ViewModelLocator.AutoWireViewModel="True"
        Title="{Binding Title.Value}" Height="350" Width="525">
     
    
    <i:Interaction.Behaviors>
        <behav:WindowBehavior
            FoldingMarkWidth="25"
            AnimationTime="200"
            Offset = "30" />
        <!--VisibleFoldingMark="{Binding VisibleFoldingMarkFromBehavior.Value, Mode=OneWayToSource}"-->
    </i:Interaction.Behaviors>


    
    <DockPanel>

        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New" />
                <MenuItem Header="_Open" />
                <MenuItem Header="_Save" InputGestureText="Ctrl+S"/>
                <Separator />
                <MenuItem Header="Exit" />
            </MenuItem>
        </Menu>
        
        <StatusBar DockPanel.Dock="Bottom" Height="30">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusMessage.Value}"/>
            </StatusBarItem>
        </StatusBar>

        <Grid>

            <Grid.ColumnDefinitions>
                <ColumnDefinition MinWidth="0" Width="{Binding ColumnWidthLeft.Value, Mode=TwoWay}"/>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition x:Name="mainDefinition" Width="80*"/>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition MinWidth="0" Width="{Binding ColumnWidthRight.Value, Mode=TwoWay}"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0" Visibility="{Binding VisibleLeftRegion.Value}">
                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                    <ContentControl prism:RegionManager.RegionName="LeftRegion" />
                </ScrollViewer>
            </Grid>

            <GridSplitter Grid.Column="1" Visibility="{Binding VisibleLeftRegion.Value}"
                Width="5" HorizontalAlignment="Stretch"  VerticalAlignment="Stretch" />

            <Grid Grid.Column="2">
                
                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                    <ContentControl prism:RegionManager.RegionName="ContentRegion" />
                </ScrollViewer>
                
                <TextBlock x:Name="foldingMarkLeft" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Hyperlink Command="{Binding ClickFoldingMarkLeftCommand}" TextDecorations="None">
                        <Image Width="25" Source="/img/p2.png"/>
                    </Hyperlink>
                </TextBlock>
                <TextBlock x:Name="foldingMarkRight" VerticalAlignment="Center" HorizontalAlignment="Right">
                    <Hyperlink Command="{Binding ClickFoldingMarkRightCommand}" TextDecorations="None">
                        <Image Width="25" Source="/img/p2.png"/>
                    </Hyperlink>
                </TextBlock>
                
            </Grid>

            <GridSplitter Grid.Column="3" Visibility="{Binding VisibleRightRegion.Value}"
                Width="5" HorizontalAlignment="Stretch"  VerticalAlignment="Stretch" />

            <Grid Grid.Column="4" Visibility="{Binding VisibleRightRegion.Value}">
                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                    <ContentControl prism:RegionManager.RegionName="RightRegion" />
                </ScrollViewer>
            </Grid>

        </Grid>
        
    </DockPanel>
</Window>
